<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotel Management | Admin</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        :root {
            --bg-color: #f4f4f5;
            --sidebar-color: #18181b;
            --primary-accent: #3b82f6;
        }
        body { background-color: var(--bg-color); font-family: 'Inter', sans-serif; }
        .sidebar { height: 100vh; background-color: var(--sidebar-color); color: white; padding-top: 2rem; position: fixed; width: 250px; }
        .sidebar a { color: #a1a1aa; text-decoration: none; padding: 0.75rem 1.5rem; display: block; }
        .sidebar a:hover, .sidebar a.active { color: white; background-color: #27272a; }
        .main-content { margin-left: 250px; padding: 2rem; }
        .card { border: none; border-radius: 0; border-bottom: 2px solid #e4e4e7; }
        .btn-primary { border-radius: 0; background-color: var(--primary-accent); border: none; }
        table { background: white; border: 1px solid #e4e4e7; }
        .status-badge { font-size: 0.75rem; text-transform: uppercase; font-weight: bold; padding: 0.25rem 0.5rem; }
    </style>
</head>
<body data-session-user='<%- user ? JSON.stringify(user) : "{}" %>'>
    <script>
        (function() {
            const userData = document.body.getAttribute('data-session-user');
            if (userData && userData !== "{}") {
                localStorage.setItem('elysian_session', userData);
            } else {
                localStorage.removeItem('elysian_session');
            }
        })();
    </script>
    <div class="sidebar">
        <h4 class="px-4 mb-2">ELYSIAN</h4>
        <% if (locals.user) { %>
            <p class="px-4 text-muted small mb-4">User: <%= user.name %> (<%= user.role %>)</p>
        <% } %>
        <a href="/" class="<%= (locals.page === 'overview') ? 'active' : '' %>">Overview</a>
        <a href="/bookings" class="<%= (locals.page === 'walk-in') ? 'active' : '' %>">Bookings</a>
        <a href="/requests" class="<%= (locals.page === 'requests') ? 'active' : '' %>">Online Requests</a>
        <a href="/room-types" class="<%= (locals.page === 'room-types') ? 'active' : '' %>">Inventory</a>
        <a href="/restaurant-admin" class="<%= (locals.page === 'restaurant') ? 'active' : '' %>">Restaurant Menu</a>
        <a href="/reports" class="<%= (locals.page === 'reports') ? 'active' : '' %>">Reports & Analytics</a>
        <% if (locals.user && user.role === 'admin') { %>
            <a href="/staff" class="<%= (locals.page === 'staff') ? 'active' : '' %>">Staff Management</a>
        <% } %>
        <a href="/reports/excel" class="text-info mt-4">Download Excel</a>
        <a href="/logout" class="text-danger mt-2">Logout</a>
    </div>
    <div class="main-content">