<%- include('partials/header') %>

<div class="d-flex justify-content-between align-items-center mb-5">
    <div>
        <h2 class="font-serif mb-1">Executive Dashboard</h2>
        <p class="text-muted small uppercase tracking-widest">Hotel Performance & Health</p>
    </div>
    <div class="text-end">
        <div class="fw-bold"><%= new Date().toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' }) %></div>
        <div class="text-[10px] text-success font-bold uppercase tracking-widest">‚óè System Synchronized</div>
    </div>
</div>

<div class="row g-4 mb-5">
    <div class="col-md-3">
        <div class="card p-4 border-0 shadow-sm">
            <small class="text-muted text-uppercase fw-bold tracking-tighter">Occupancy Rate</small>
            <h2 class="mt-2 font-serif"><%= stats.occupancyRate %>%</h2>
            <div class="progress mt-2" style="height: 4px;">
                <div class="progress-bar bg-primary" style="width: <%= stats.occupancyRate %>%"></div>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card p-4 border-0 shadow-sm">
            <small class="text-muted text-uppercase fw-bold tracking-tighter">Pending Requests</small>
            <h2 class="mt-2 font-serif text-warning"><%= stats.pendingRequests %></h2>
            <p class="text-[10px] text-muted mb-0 mt-2">REQUIRES IMMEDIATE REVIEW</p>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card p-4 border-0 shadow-sm">
            <small class="text-muted text-uppercase fw-bold tracking-tighter">Gross Revenue</small>
            <h2 class="mt-2 font-serif text-success">$<%= stats.revenue.toLocaleString() %></h2>
            <p class="text-[10px] text-muted mb-0 mt-2">TOTAL APPROVED VALUE</p>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card p-4 border-0 shadow-sm">
            <small class="text-muted text-uppercase fw-bold tracking-tighter">Inventory Health</small>
            <h2 class="mt-2 font-serif"><%= stats.totalRooms - stats.occupiedRooms %> <span class="text-[12px] text-muted">Available</span></h2>
            <p class="text-[10px] text-muted mb-0 mt-2">OUT OF <%= stats.totalRooms %> ACTIVE ROOMS</p>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-8">
        <div class="card border-0 shadow-sm p-4">
            <h6 class="font-serif mb-4">Recent Residential Activity</h6>
            <div class="table-responsive">
                <table class="table table-hover align-middle mb-0">
                    <thead class="text-muted small uppercase">
                        <tr>
                            <th>Guest</th>
                            <th>Status</th>
                            <th>Amount</th>
                            <th class="text-end">Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% stats.recentBookings.forEach(booking => { %>
                        <tr>
                            <td class="fw-bold"><%= booking.guest_name %></td>
                            <td>
                                <span class="badge status-badge <%= booking.status === 'approved' ? 'bg-success' : 'bg-warning text-dark' %>">
                                    <%= booking.status %>
                                </span>
                            </td>
                            <td class="fw-serif">$<%= booking.total_price %></td>
                            <td class="text-end text-muted small"><%= new Date(booking.created_at).toLocaleDateString() %></td>
                        </tr>
                        <% }) %>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="col-lg-4">
        <div class="card border-0 shadow-sm p-4 bg-dark text-white h-100">
            <h6 class="font-serif mb-4">Operational Status</h6>
            <div class="space-y-4">
                <div class="d-flex justify-content-between border-bottom border-secondary pb-3">
                    <span class="small text-muted">Front Desk</span>
                    <span class="text-success small fw-bold">ONLINE</span>
                </div>
                <div class="d-flex justify-content-between border-bottom border-secondary pb-3 pt-3">
                    <span class="small text-muted">Payment Gateway</span>
                    <span class="text-success small fw-bold">ACTIVE</span>
                </div>
                <div class="d-flex justify-content-between border-bottom border-secondary pb-3 pt-3">
                    <span class="small text-muted">Restaurant API</span>
                    <span class="text-success small fw-bold">STABLE</span>
                </div>
                <div class="mt-5 text-center p-4 bg-secondary/10 rounded">
                    <p class="small text-muted mb-0 italic">"Luxury is the absence of worry."</p>
                </div>
            </div>
        </div>
    </div>
</div>

<%- include('partials/footer') %>
